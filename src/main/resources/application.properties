spring.application.name=spring-elasticsearch


server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true
server.port=8080

#############################################
# 1. H2 DATABASE 설정
#############################################
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL
spring.datasource.username=sa
spring.datasource.password=

#############################################
# 2. JPA / HIBERNATE 설정
#############################################
# 실행 시 테이블 새로 생성
spring.jpa.hibernate.ddl-auto=create

# 콘솔에 실행되는 SQL 출력
spring.jpa.show-sql=true

# SQL 포매팅
spring.jpa.properties.hibernate.format_sql=true

#############################################
# 3. H2 콘솔 (웹 UI)
#############################################
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

###############################################################
# Elasticsearch 접속 설정
# Spring Boot가 검색 요청을 어느 서버로 보낼지 지정하는 옵션.
#
# 이 설정이 없더라도, Spring Boot 3.x + Spring Data Elasticsearch 5.x 환경에서는
# 기본값으로 http://localhost:9200 에 자동 연결하려고 시도한다.
# (단, Elasticsearch가 다른 서버/포트에 있거나 보안이 활성화된 경우는 반드시 설정 필요)
#
# Docker로 실행했다면 매핑된 포트(9200:9200)를 그대로 사용하면 되고,
# 외부 서버나 커스텀 도메인을 연결할 때는 nodes 주소를 직접 지정해야 한다.
#
# 운영 환경에서는 자동값을 사용하면 안 되며 반드시 명시적으로 설정해줘야 한다.
###############################################################
# spring.elasticsearch.uris=http://localhost:9200

# 도커로 실행시 Docker compose 네트워크 안에서는 http://elasticsearch:9200 으로 접근
spring.elasticsearch.uris=http://elasticsearch:9200